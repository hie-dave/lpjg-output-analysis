---
title: "Ozflux Benchmarks"
output:
    # pdf_document:
    #     toc: true
    html_document:
        toc: true
        theme: united
        css: ozflux-benchmarks.css
classoption: 
  landscape
---

```{r setup, include=FALSE}
# knitr options
# knitr::opts_chunk$set(echo = FALSE,
#                       message = FALSE,
#                       out.width = "100%",
#                       fig.height = 7,
#                       warning = debug)

# kable options
# opts <- options(knitr.kable.NA = "")

library("tidyr")
library("htmltools")
library("DGVMTools")
library("daveanalysis")
dave_config(log_level = 4, log_file = "ozflux-benchmarks.log")
```

```{r echo = FALSE, message = FALSE, warning = FALSE, results = "asis", fig.asp = 0.7, fig.width = 11}
cat("\n\nGenerated", format(Sys.time(), "%a %b %e %Y"), "\n\n")

# Can specify paths to multiple repositories like this:
# sources <- c("/path/to/guess/repo/0", "/path/to/guess/repo/1")
# Or by calling defineSource(), which gives more control over the name:
define_source <- function(name, path) {
    if (!dir.exists(path)) {
        stop("Directory not found: '", path, "'")
    }
    return(defineSource(
        id = basename(path),
        name = name,
        dir = path,
        format = OZFLUX))
}
sources <- c(
    define_source("DAVE", "/home/drew/code/lpj-guess/dave"),
    define_source("Trunk", "/home/drew/code/lpj-guess/dave2")
)

# Set to true to use plotly for graph rendering. Note: requires rendering to
# HTML; see document header.
plotly <- FALSE

ozflux_benchmarks(sources, use_plotly = plotly)
if (plotly) {
    tagList(tags)
}
```
